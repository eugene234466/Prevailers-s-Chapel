<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Daily Devotional | Prevailed Chapel International</title>

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
    font-family:Segoe UI,Tahoma,Verdana,sans-serif;
    background:linear-gradient(#f8fafc,#e0e7ff);
    min-height:100vh;
}
nav{
    background:linear-gradient(135deg,#1e3a8a,#0369a1);
    padding:18px;
    position:sticky;
    top:0;
    z-index:999;
}
nav ul{
    display:flex;
    justify-content:center;
    gap:24px;
    list-style:none;
    flex-wrap:wrap;
}
nav a{
    color:#fff;
    text-decoration:none;
    font-weight:600;
    padding:8px 16px;
    border-radius:8px;
}
nav a.active,nav a:hover{
    background:rgba(255,255,255,.25);
}

.container{
    max-width:950px;
    margin:auto;
    padding:50px 20px;
}

.header{
    text-align:center;
    margin-bottom:50px;
}
.header h1{
    font-size:48px;
    color:#1e3a8a;
}
.header p{
    color:#475569;
    font-size:18px;
}

.section{
    background:#fff;
    padding:40px;
    border-radius:18px;
    margin-bottom:40px;
    box-shadow:0 10px 30px rgba(0,0,0,.1);
}

.verse{
    background:linear-gradient(135deg,#1e3a8a,#3b82f6);
    color:#fff;
}
.verse-text{
    font-size:22px;
    line-height:1.8;
    font-style:italic;
}
.verse-ref{
    margin-top:15px;
    font-weight:700;
    text-align:right;
}

h2{
    color:#1e3a8a;
    margin-bottom:20px;
}

.meta{
    display:flex;
    gap:20px;
    color:#64748b;
    margin-bottom:20px;
    flex-wrap:wrap;
}

p{
    color:#475569;
    font-size:18px;
    line-height:1.9;
    margin-bottom:20px;
}

ul{
    margin-left:20px;
}
li{
    margin:10px 0;
    font-size:17px;
}

.prayer{
    background:linear-gradient(#fef3c7,#fde68a);
    padding:30px;
    border-radius:14px;
    margin-top:30px;
}

.share{
    text-align:center;
    margin-top:30px;
}
.share button{
    background:linear-gradient(135deg,#3b82f6,#1e3a8a);
    color:#fff;
    border:none;
    padding:14px 36px;
    border-radius:12px;
    font-size:17px;
    font-weight:700;
    cursor:pointer;
}

.search input{
    padding:14px;
    width:70%;
    border-radius:10px;
    border:2px solid #cbd5e1;
}
.search button{
    padding:14px 26px;
    border:none;
    border-radius:10px;
    background:#1e3a8a;
    color:#fff;
    font-weight:700;
}

.result{
    margin-top:25px;
}

@media(max-width:768px){
    .header h1{font-size:36px}
    .search input{width:100%;margin-bottom:10px}
}
</style>
</head>

<body>

<nav>
<ul>
<li><a href="home.html">Home</a></li>
<li><a href="livestream.html">Live Stream</a></li>
<li><a href="devotional.html" class="active">Devotional</a></li>
<li><a href="events.html">Events</a></li>
<li><a href="services.html">Services</a></li>
<li><a href="contact.html">Contact</a></li>
</ul>
</nav>

<div class="container">

<div class="header">
<h1>üìñ Daily Devotional</h1>
<p>Start your day with God‚Äôs Word and reflection</p>
</div>

<div class="section verse" id="verseBox">
<p class="verse-text">Loading verse...</p>
<p class="verse-ref"></p>
</div>

<div class="section">
<h2 id="title">Loading devotional...</h2>

<div class="meta">
<span><strong>Date:</strong> <span id="date"></span></span>
<span><strong>Key Verse:</strong> <span id="keyVerse"></span></span>
</div>

<div id="content"></div>

<h3>üí≠ Reflection Points</h3>
<ul id="points"></ul>

<div class="prayer">
<h3>üôè Prayer</h3>
<p id="prayerText"></p>
</div>

<div class="share">
<button onclick="shareDevotional()">üì§ Share Devotional</button>
</div>
</div>

<div class="section search">
<h2>üìö Search Scripture</h2>
<form onsubmit="searchBible(event)">
<input id="searchInput" placeholder="John 3:16" required />
<button>Search</button>
</form>
<div class="result" id="result"></div>
</div>

</div>

<script>
const $ = id => document.getElementById(id);

async function loadVerse(){
    const res = await fetch('https://beta.ourmanna.com/api/v1/get/?format=json');
    const d = await res.json();
    document.querySelector('.verse-text').textContent = `"${d.verse.details.text}"`;
    document.querySelector('.verse-ref').textContent = `‚Äì ${d.verse.details.reference}`;
    $('keyVerse').textContent = d.verse.details.reference;
}

async function loadDevotional(){
    const res = await fetch('https://micromab.com/wp-json/openheavens/v1/today');
    const d = await res.json();

    $('title').textContent = d.title;
    $('date').textContent = new Date(d.date).toDateString();
    $('content').innerHTML = `<p>${d.message.replace(/\n\n+/g,'</p><p>')}</p>`;
    $('prayerText').innerHTML = d.prayer.replace(/\n/g,'<br>');

    $('points').innerHTML = '';
    d.points.forEach(p=>{
        const li=document.createElement('li');
        li.textContent=p;
        $('points').appendChild(li);
    });
}

function shareDevotional(){
    const text = document.querySelector('.verse-text').textContent;
    const url = location.href;
    if(navigator.share){
        navigator.share({title:'Daily Devotional',text, url});
    }else{
        navigator.clipboard.writeText(text+"\n"+url);
        alert('Copied to clipboard');
    }
}

async function searchBible(e){
    e.preventDefault();
    const q=$('searchInput').value;
    const res=await fetch(`https://bible-api.com/${q}`);
    const d=await res.json();
    $('result').innerHTML = `<h3>${d.reference}</h3><p>${d.text}</p>`;
}

window.onload=()=>{
    loadVerse();
    loadDevotional();
}
</script>

</body>
</html>